\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{url}
%\usepackage[left=1.5cm,right=1.5cm,top=2cm,bottom=2cm]{geometry}
\title{LSINF2345 - Course project \\ A Simulated Bike Race}
\author{Alexandre Hauet \& Florian Thuin}
\date{\today} 

\def\blurb{\textsc{Université catholique de Louvain\\
  École polytechnique de Louvain\\
  Pôle d'ingénierie informatique}}
\def\clap#1{\hbox to 0pt{\hss #1\hss}}%
\def\ligne#1{%
  \hbox to \hsize{%
    \vbox{\centering #1}}}%
\def\haut#1#2#3{%
  \hbox to \hsize{%
    \rlap{\vtop{\raggedright #1}}%
    \hss
    \clap{\vbox{\vfill\centering #2\vfill}}%
    \hss
    \llap{\vtop{\raggedleft #3}}}}%


\begin{document}

\begin{titlepage}
\thispagestyle{empty}\vbox to 1\vsize{%
  \vss
  \vbox to 1\vsize{%
    \haut{\raisebox{-5mm}{\includegraphics[width=2.5cm]{logo_ucl.pdf}}}{\blurb}{\raisebox{-5mm}{\includegraphics[scale=0.20]{ingi_logo.png}}}
    \vfill
    \ligne{\Huge \textbf{\textsc{LSINF2345}}}
     \vspace{5mm}
    \ligne{\huge \textbf{\textsc{Course project }}}
     \vspace{15mm}
    \ligne{\Large \textbf{\textsc{A Simulated Bike Race}}}
    \vspace{5mm}
    \ligne{\large{\textsc{\today}}}
    \vfill
    \vspace{5mm}
    \ligne{%
         \textsc{Group 10\\Alexandre Hauet\\Florian Thuin} 
      }
      \vspace{5mm}
    }%
  \vss
  }
\end{titlepage}


\section*{Introduction}
For this assignment, we must resolve three problems linked to a game \textbf{Bike Race}.  To solve this problem, 
we realize a distributed system in Erlang. Specifically, we use Riak : a distributed NoSQL key-value data store
 that offers high availability, fault tolerance, operational simplicity, and scalability\footnote{\url{https://en.wikipedia.org/wiki/Riak}}.
 Riak makes our life easier, because it manages the send of messages for us.


\section*{Problem 0}
For this first problem of the assignment, we need to start by setting the track, where no biker fails and no special
consideration has been given to broadcasting messages. We use the best-effort broadcast (beb) to implement 
this problem.\newline


At the begin of the game, each biker will have an id.  To implement the best-effort broadcast, we take advantage of
Riak. So each nodes during a round will store its decision in the key store. Others will reach the decision using the id of 
the biker.\newline


According to the course the best-effort broadcast properties are :
\begin{itemize}
\item \textbf{Best-effort-Validity} : If $p_{i}$ and  $p_{j}$ are correct, then any broadcast by  $p_{i}$ is eventually delivered by  $p_{j}$
\item \textbf{No duplication} : No message delivered more then once
\item \textbf{No creation} : No message delivered unless broadcast
\end{itemize}

Let's see if our algorithm fulfill the properties :
\begin{itemize}
\item We use a key store to exchange the informations between the bikers. So when a Biker ($b_{i}$) broadcast a message via the key store,
an other Biker ($b_{j}$) may access to the message ,and thus the message is delivered
\item The message are not duplicated, they are written only once times in the key store by the bikers.
\item When a biker send a message, it's always a broadcast because the biker use the key store to send the message. And the key store is
accessible by all the bikers.
\end{itemize}

So we can conclude, that our algorithm is definitely a best-effort broadcast algorithm.\newline

But we can observe strange behavior. Each node has its own way to manage the conflict between behind instruction. If we have a cycle (for example
the biker A follows the biker B, the biker B follows the biker C and the biker C follows the biker A), the resolution of the race could be different.

\section*{Problem 1}
For this problem, we need to guarantee the same view for all bikers. To solve this problem, we need to implement a total-order broadcast.
One of the major difference between total order broadcast and best-effort broadcast is that the processes must deliver all messages according to
the same order.




\section*{Problem 2}
For this problem, we must handle the failure cause by the fact that a biker may fall down during the race.
To solve this problem, we need to modify our solution of problem 1. Our design requires the use of a 
failure detector. To build it, we use a simple heartbeat algorithm.\newline

A heartbeat is a mechanism can detect a crash node within a bounded time. The algorithm exchanges 
messages all processes and uses a specific timeout mechanism initialized with a delay. During this period,
all processes have the time to send messages (request messages and reply messages). After they are considered 
as crashed. But we must be careful that all processes have enough time to send the messages. 


\section*{Conclusion}
This project was very difficult to start. We were troubled to can not use send messages to implement a broadcast algorithm.
But after a while, we understood that there exist different way to implement a broadcast algorithm. So we discovered the power
of Riak.

\end{document}
